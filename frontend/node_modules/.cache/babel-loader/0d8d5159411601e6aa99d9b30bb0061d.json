{"ast":null,"code":"import _slicedToArray from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/fon/Documents/levitatech_project/frontend/src/pages/todo_dashboard_admin.jsx\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport axiosInstance from \"../axiosApi\";\nimport CreateTask from \"../elements/CreateTask\";\nimport { ListGroup, ListGroupItem, Dropdown, Popover, DropdownMenu, PopoverBody, DropdownToggle, DropdownItem } from 'reactstrap';\n\nvar TodoDashboard = function TodoDashboard() {\n  var _useOutletContext = useOutletContext(),\n      _useOutletContext2 = _slicedToArray(_useOutletContext, 1),\n      toggleRefreshProjectlist = _useOutletContext2[0];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      popoverOpen = _useState2[0],\n      togglePopover = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      TaskAdd = _useState4[0],\n      toggleTaskAdd = _useState4[1];\n\n  var _useState5 = useState(\"default\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortResult = _useState6[0],\n      setSortResult = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      queryResult = _useState8[0],\n      setQueryResult = _useState8[1];\n\n  var _useParams = useParams(),\n      projectid = _useParams.projectid;\n\n  var $titleInputRef = useRef();\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      todoError = _useState10[0],\n      setTodoError = _useState10[1];\n\n  var handlePopover = function handlePopover() {\n    togglePopover(!popoverOpen);\n  };\n\n  var sortDropdown = function sortDropdown(event) {\n    setSortResult(event.target.getAttribute(\"data-type\"));\n  };\n\n  var handleTitleChange = function handleTitleChange(event) {\n    setTodoError(null);\n    var title = $titleInputRef.current.value;\n    if (title === queryResult[\"description\"]) return;\n    var errors = [];\n    if (!title) errors.push(\"Title is required\");\n    if (title.lenght > 20) errors.push(\"Max length of Title is 20\");\n\n    if (errors.length > 0) {\n      setTodoError(errors);\n    } else {\n      try {\n        event.preventDefault();\n        var axios = axiosInstance.put(\"/project/\".concat(projectid), {\n          description: title,\n          flag: queryResult.flag,\n          sequence: queryResult.sequence\n        });\n        axios.then(function (res) {\n          var data = {\n            type: \"project\",\n            message: \"The new Project is created\"\n          };\n          getProjectDetails();\n          toggleRefreshProjectlist(1 + Math.random() * (1000 - 1));\n        }).catch(function (_ref) {//props.handleAlert(response.data.detail);\n\n          var response = _ref.response;\n        });\n      } catch (error) {\n        throw error;\n      }\n    }\n  };\n\n  useEffect(function () {\n    getProjectDetails();\n  }, [projectid]);\n\n  var getProjectDetails = function getProjectDetails() {\n    var axios = axiosInstance.get(\"/project/\".concat(projectid, \"/todo\"));\n    axios.then(function (res) {\n      setQueryResult(res.data[0]);\n    }).catch(function (_ref2) {\n      var response = _ref2.response;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"vh-100 bg-light p-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex  justify-content-between pb-2 border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"editable-textarea\",\n    defaultValue: queryResult[\"description\"],\n    ref: $titleInputRef,\n    onBlur: handleTitleChange,\n    onKeyDown: function onKeyDown(event) {\n      if (event.keyCode === 13) {\n        event.target.blur();\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }), todoError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 35\n    }\n  }, todoError)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ps-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"mypopover\",\n    className: \"btn p-0 m-0 \",\n    type: \"button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-sliders\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Popover, {\n    placement: \"bottom\",\n    isOpen: popoverOpen,\n    target: \"mypopover\",\n    toggle: handlePopover,\n    trigger: \"legacy\",\n    offset: [-50, 0],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(PopoverBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item border-0 w-100 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex   w-100 justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-sort-down\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 66\n    }\n  }), \" Sort By  \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown  p-1 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn dropdown-toggle btn-sm\",\n    type: \"button\",\n    id: \"dropdownMenuButton1\",\n    \"data-bs-toggle\": \"dropdown\",\n    \"aria-expanded\": \"false\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 49\n    }\n  }, sortResult), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"dropdown-menu\",\n    \"aria-labelledby\": \"dropdownMenuButton1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    \"data-type\": \"Priority\",\n    href: \"#\",\n    onClick: sortDropdown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 57\n    }\n  }, \"Priority\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    \"data-type\": \"Assignee\",\n    href: \"#\",\n    onClick: sortDropdown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 57\n    }\n  }, \"Assignee\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    \"data-type\": \"Project\",\n    href: \"#\",\n    onClick: sortDropdown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 57\n    }\n  }, \"Project\")))))))))))), /*#__PURE__*/React.createElement(ListGroup, {\n    flush: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    action: true,\n    href: \"#\",\n    tag: \"a\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-check-circle pe-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }), \"Fon's asshole itchy :D\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge bg-danger ms-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, \"High\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onhover-wrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-light onhover-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-card-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 92\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-light onhover-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-calendar-event\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 92\n    }\n  }))))), /*#__PURE__*/React.createElement(ListGroupItem, {\n    action: true,\n    href: \"#\",\n    tag: \"a\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-check-circle pe-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }), \"Mybababy has a big dick\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge bg-warning ms-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, \"Medium\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onhover-wrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-light onhover-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-card-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 92\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-light onhover-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-calendar-event\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 92\n    }\n  }))))), !TaskAdd && /*#__PURE__*/React.createElement(ListGroupItem, {\n    action: true,\n    href: \"#\",\n    tag: \"a\",\n    className: \"hover-text-red\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2 pe-auto\",\n    onClick: function onClick() {\n      return toggleTaskAdd(!TaskAdd);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-plus-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }), \" Add new Task\")), TaskAdd && /*#__PURE__*/React.createElement(CreateTask, {\n    refreshList: getProjectDetails,\n    toggleClose: toggleTaskAdd,\n    queryResult: queryResult,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default TodoDashboard;","map":{"version":3,"sources":["/Users/fon/Documents/levitatech_project/frontend/src/pages/todo_dashboard_admin.jsx"],"names":["React","useState","useEffect","useRef","useOutletContext","useParams","axiosInstance","CreateTask","ListGroup","ListGroupItem","Dropdown","Popover","DropdownMenu","PopoverBody","DropdownToggle","DropdownItem","TodoDashboard","toggleRefreshProjectlist","popoverOpen","togglePopover","TaskAdd","toggleTaskAdd","sortResult","setSortResult","queryResult","setQueryResult","projectid","$titleInputRef","todoError","setTodoError","handlePopover","sortDropdown","event","target","getAttribute","handleTitleChange","title","current","value","errors","push","lenght","length","preventDefault","axios","put","description","flag","sequence","then","res","data","type","message","getProjectDetails","Math","random","catch","response","error","get","keyCode","blur"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport axiosInstance from \"../axiosApi\";\nimport CreateTask from \"../elements/CreateTask\";\nimport {\n    ListGroup,\n    ListGroupItem,\n    Dropdown,\n    Popover,\n    DropdownMenu,\n    PopoverBody,\n    DropdownToggle,\n    DropdownItem\n} from 'reactstrap'\n\nconst TodoDashboard = () => {\n    const [toggleRefreshProjectlist] = useOutletContext();\n    const [popoverOpen, togglePopover] = useState(false);\n    const [TaskAdd,toggleTaskAdd] = useState(false);\n    const [sortResult, setSortResult] = useState(\"default\");\n    const [queryResult, setQueryResult] = useState([]);\n    const { projectid } = useParams();\n    const $titleInputRef = useRef();\n    const [todoError, setTodoError] = useState(null);\n\n    const handlePopover=()=>{\n        togglePopover(!popoverOpen);\n    }\n\n\n    const sortDropdown=(event)=>{\n        setSortResult(event.target.getAttribute(\"data-type\"));\n    }\n\n    const handleTitleChange = (event) => {\n        setTodoError(null);\n    \n        const title = $titleInputRef.current.value;\n        if (title === queryResult[\"description\"]) return;\n    \n        const errors = [];\n        if(!title) errors.push(\"Title is required\");\n        if(title.lenght > 20) errors.push(\"Max length of Title is 20\");\n    \n        if (errors.length > 0) {\n            setTodoError(errors);\n        } else {\n            try {\n                event.preventDefault();\n                const axios = axiosInstance.put(`/project/${projectid}`, {\n                    description: title,\n                    flag: queryResult.flag,\n                    sequence: queryResult.sequence\n                });\n                axios.then(res => {\n                    const data = {type:\"project\",message:\"The new Project is created\"};\n                    getProjectDetails();\n                    toggleRefreshProjectlist(1 + Math.random() * (1000 - 1));\n                }).catch(({response}) => {\n                    //props.handleAlert(response.data.detail);\n                });\n                \n            } catch (error) {\n                throw error;\n            }\n        }\n    };\n\n    useEffect(() => {\n        getProjectDetails();\n    }, [projectid]);\n\n    const getProjectDetails = () => {\n        const axios = axiosInstance.get(`/project/${projectid}/todo`);\n        axios.then(res => {\n            setQueryResult(res.data[0]);\n        }).catch(({response}) => {\n            \n        });\n    }\n    \n    return (\n        <section className=\"vh-100 bg-light p-3\">\n\n            <div className=\"d-flex  justify-content-between pb-2 border-bottom\">\n                <div>\n                    <textarea \n                        className=\"editable-textarea\" \n                        defaultValue={queryResult[\"description\"]}\n                        ref={$titleInputRef}\n                        onBlur={handleTitleChange}\n                        onKeyDown={event => {\n                            if (event.keyCode === 13) {\n                                event.target.blur();\n                            }\n                        }}\n                    />\n                    {todoError && <div >{todoError}</div>}\n                </div>\n                <div className=\"ps-2\">\n                    <div className=\"dropdown\">\n                        <button id=\"mypopover\" className=\"btn p-0 m-0 \" type=\"button\" >\n                            <i className=\"bi bi-sliders\"></i>\n                        </button>\n                        <Popover\n                            placement=\"bottom\"\n                            isOpen={popoverOpen}\n                            target=\"mypopover\"\n                            toggle={handlePopover}\n                            trigger='legacy'\n                            offset={[-50,0]}\n                        >\n                            <PopoverBody >\n                                <ul className=\"list-group\">\n                                    <li className=\"list-group-item border-0 w-100 p-0 m-0\">\n                                        <div className=\"d-flex   w-100 justify-content-between\">\n                                            <div className=\"p-2\"><i className=\"bi bi-sort-down\"></i> Sort By  </div>\n                                            \n                                            <div className=\"dropdown  p-1 m-0\">\n                                                    \n                                                <button className=\"btn dropdown-toggle btn-sm\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                                {sortResult}\n                                                </button>\n                                                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                                                    <li><a className=\"dropdown-item\" data-type=\"Priority\" href=\"#\" onClick={sortDropdown}>Priority</a></li>\n                                                    <li><a className=\"dropdown-item\" data-type=\"Assignee\" href=\"#\" onClick={sortDropdown}>Assignee</a></li>\n                                                    <li><a className=\"dropdown-item\" data-type=\"Project\" href=\"#\" onClick={sortDropdown}>Project</a></li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </PopoverBody>\n                        </Popover>\n                    </div>\n\n                </div>\n            </div>\n            <ListGroup flush>\n                <ListGroupItem action href=\"#\" tag=\"a\"  >\n                    <div className=\"d-flex justify-content-between\">\n                        <div>\n                            <i className=\"bi bi-check-circle pe-2\"></i>\n                            Fon's asshole itchy :D\n                            <span className=\"badge bg-danger ms-2\">High</span>\n                        </div>\n                        <div className=\"onhover-wrap\">\n                            <button type=\"button\" className=\"btn btn-light onhover-button\"><i className=\"bi bi-card-text\"></i></button>\n                            <button type=\"button\" className=\"btn btn-light onhover-button\"><i className=\"bi bi-calendar-event\"></i></button>\n                        </div>\n                    </div>\n                </ListGroupItem>\n                <ListGroupItem action href=\"#\" tag=\"a\" >\n                    <div className=\"d-flex justify-content-between\">\n                        <div>\n                            <i className=\"bi bi-check-circle pe-2\"></i>\n                            Mybababy has a big dick\n                            <span className=\"badge bg-warning ms-2\">Medium</span>\n                        </div>\n                        <div className=\"onhover-wrap\">\n                            <button type=\"button\" className=\"btn btn-light onhover-button\"><i className=\"bi bi-card-text\"></i></button>\n                            <button type=\"button\" className=\"btn btn-light onhover-button\"><i className=\"bi bi-calendar-event\"></i></button>\n                        </div>\n                    </div>\n                </ListGroupItem>\n\n                {\n                !TaskAdd && (\n                    \n                    <ListGroupItem action href=\"#\" tag=\"a\" className=\"hover-text-red\">\n                        <div className=\"p-2 pe-auto\" onClick={() => toggleTaskAdd(!TaskAdd)}>\n                            <i class=\"bi bi-plus-lg\"></i> Add new Task  \n                        </div>\n                    </ListGroupItem>\n                )\n\n                }    \n                {\n                TaskAdd && (\n                    <CreateTask\n                        refreshList = {getProjectDetails}\n                        toggleClose = {toggleTaskAdd}\n                        queryResult = {queryResult}\n                    />\n                )\n\n                }           \n                \n\n            </ListGroup>\n\n            \n        </section>\n\n    )\n}\n\n\n\nexport default TodoDashboard;"]},"metadata":{},"sourceType":"module"}