{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/fon/Documents/levitatech_project/frontend/src/App.js\";\n\nimport React, { Component } from \"react\";\nimport { Routes, Route } from \"react-router-dom\"; // import Home from \"./components/home\";\n\nimport Login from \"./pages/login\";\nimport Signup from \"./pages/signup\";\nimport Home from \"./pages/home\";\nimport Sidebar from \"./elements/Sidebar\";\nimport axiosInstance from \"./axiosApi\";\n\nvar AuthWrapper = function AuthWrapper() {\n  return isExpired(localStorage.getItem('token') ? /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/login\",\n    replace: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 54\n    }\n  }) : /*#__PURE__*/React.createElement(Outlet, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 89\n    }\n  }));\n};\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this2;\n\n    _classCallCheck(this, App);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this2.handleLogout = _this2.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(App, [{\n    key: \"handleLogout\",\n    value: function () {\n      var _handleLogout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axiosInstance.post('/token/blacklist/', {\n                  \"refresh_token\": localStorage.getItem(\"refresh_token\")\n                });\n\n              case 3:\n                response = _context.sent;\n                localStorage.removeItem('access_token');\n                localStorage.removeItem('refresh_token');\n                axiosInstance.defaults.headers['Authorization'] = null;\n                return _context.abrupt(\"return\", response);\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 10]]);\n      }));\n\n      function handleLogout() {\n        return _handleLogout.apply(this, arguments);\n      }\n\n      return handleLogout;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"site\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"main\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Routes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/login/\",\n        element: /*#__PURE__*/React.createElement(Login, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 60\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/signup/\",\n        element: /*#__PURE__*/React.createElement(Signup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 61\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        element: /*#__PURE__*/React.createElement(Sidebar, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 37\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/jetjet/\",\n        element: /*#__PURE__*/React.createElement(Home, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 65\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/home/\",\n        element: /*#__PURE__*/React.createElement(Home, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 63\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      })))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/fon/Documents/levitatech_project/frontend/src/App.js"],"names":["React","Component","Routes","Route","Login","Signup","Home","Sidebar","axiosInstance","AuthWrapper","isExpired","localStorage","getItem","App","handleLogout","bind","post","response","removeItem","defaults","headers","console","log"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\n// import Home from \"./components/home\";\nimport Login from \"./pages/login\";\nimport Signup from \"./pages/signup\";\nimport Home from \"./pages/home\";\nimport Sidebar from \"./elements/Sidebar\";\nimport axiosInstance from \"./axiosApi\";\n\n\nconst AuthWrapper = () => {\n    return isExpired(localStorage.getItem('token') ? <Navigate to=\"/login\" replace /> : <Outlet />);\n};\n\nclass App extends Component {\n  constructor() {\n      super();\n      this.handleLogout = this.handleLogout.bind(this);\n\n  }\n  async handleLogout() {\n    try {\n        const response = await axiosInstance.post('/token/blacklist/', {\n            \"refresh_token\": localStorage.getItem(\"refresh_token\")\n        });\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        axiosInstance.defaults.headers['Authorization'] = null;\n        return response;\n    }\n    catch (e) {\n        console.log(e);\n    }\n  };\n\n  \n  render() {\n\n      return (\n          \n          <div className=\"site\">\n              <main>\n\n                  <Routes>\n\n                    <Route exact path={\"/login/\"} element={<Login/>}/>\n                    <Route exact path={\"/signup/\"} element={<Signup/>}/>\n                    <Route element={<Sidebar />}>\n                        <Route exact path={\"/jetjet/\"} element={<Home/>}/>\n                        <Route exact path={\"/home/\"} element={<Home/>}/>\n                    </Route>\n\n                  </Routes>\n              </main>\n          </div>\n\n          \n\n      );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}