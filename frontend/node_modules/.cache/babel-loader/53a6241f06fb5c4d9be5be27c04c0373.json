{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/fon/Documents/levitatech_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/fon/Documents/levitatech_project/frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\"; // import Home from \"./components/home\";\n\nimport Login from \"./components/login\";\nimport Signup from \"./components/signup\";\nimport SideNav from \"./elements/Nav\";\nimport axiosInstance from \"./axiosApi\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleLogout\",\n    value: function () {\n      var _handleLogout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axiosInstance.post('/token/blacklist/', {\n                  \"refresh_token\": localStorage.getItem(\"refresh_token\")\n                });\n\n              case 3:\n                response = _context.sent;\n                localStorage.removeItem('access_token');\n                localStorage.removeItem('refresh_token');\n                axiosInstance.defaults.headers['Authorization'] = null;\n                return _context.abrupt(\"return\", response);\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 10]]);\n      }));\n\n      function handleLogout() {\n        return _handleLogout.apply(this, arguments);\n      }\n\n      return handleLogout;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"site\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"main\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }\n      }, localStorage.getItem('access_token') && /*#__PURE__*/React.createElement(SideNav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }\n      }, \"data\"), /*#__PURE__*/React.createElement(Routes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/login/\",\n        element: /*#__PURE__*/React.createElement(Login, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 62\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/signup/\",\n        element: /*#__PURE__*/React.createElement(Signup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 63\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 23\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/fon/Documents/levitatech_project/frontend/src/App.js"],"names":["React","Component","Routes","Route","Link","Login","Signup","SideNav","axiosInstance","App","handleLogout","bind","post","localStorage","getItem","response","removeItem","defaults","headers","console","log"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,QAAoC,kBAApC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,aAAP,MAA0B,YAA1B;;IAEMC,G;;;AACJ,iBAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AAFU;AAIb;;;;;;;;;;;;;uBAG4BH,aAAa,CAACI,IAAd,CAAmB,mBAAnB,EAAwC;AAC3D,mCAAiBC,YAAY,CAACC,OAAb,CAAqB,eAArB;AAD0C,iBAAxC,C;;;AAAjBC,gBAAAA,Q;AAGNF,gBAAAA,YAAY,CAACG,UAAb,CAAwB,cAAxB;AACAH,gBAAAA,YAAY,CAACG,UAAb,CAAwB,eAAxB;AACAR,gBAAAA,aAAa,CAACS,QAAd,CAAuBC,OAAvB,CAA+B,eAA/B,IAAkD,IAAlD;iDACOH,Q;;;;;AAGPI,gBAAAA,OAAO,CAACC,GAAR;;;;;;;;;;;;;;;;;;6BAGG;AACL,0BAEI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGUP,YAAY,CAACC,OAAb,CAAqB,cAArB,kBACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJV,eAMI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAE,SAAnB;AAA8B,QAAA,OAAO,eAAE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAE,UAAnB;AAA+B,QAAA,OAAO,eAAE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CANJ,CADJ,CAFJ;AAoBH;;;;EAzCeb,S;;AA4ClB,eAAeQ,GAAf","sourcesContent":["import React, { Component} from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\n// import Home from \"./components/home\";\nimport Login from \"./components/login\";\nimport Signup from \"./components/signup\";\nimport SideNav from \"./elements/Nav\";\nimport axiosInstance from \"./axiosApi\";\n\nclass App extends Component {\n  constructor() {\n      super();\n      this.handleLogout = this.handleLogout.bind(this);\n\n  }\n  async handleLogout() {\n    try {\n        const response = await axiosInstance.post('/token/blacklist/', {\n            \"refresh_token\": localStorage.getItem(\"refresh_token\")\n        });\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        axiosInstance.defaults.headers['Authorization'] = null;\n        return response;\n    }\n    catch (e) {\n        console.log(e);\n    }\n  };\n  render() {\n      return (\n          \n          <div className=\"site\">\n              <main>\n\n                    {\n                        localStorage.getItem('access_token') &&\n                        <SideNav>data</SideNav>\n                    }\n                  <Routes>\n                      <Route exact path={\"/login/\"} element={<Login/>}/>\n                      <Route exact path={\"/signup/\"} element={<Signup/>}/>\n\n                  </Routes>\n              </main>\n          </div>\n\n          \n\n      );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}